CREATE TABLE EMSD_ANIO_FABRICACION_VEHICULO(
    COD_ANIO_FABRICACION NUMBER,
    ANIO_FABRICACION NUMBER,
    CONSTRAINT PK_EMSD_ANIO_FABRICACION_VEHICULO PRIMARY KEY(COD_ANIO_FABRICACION)
);


CREATE OR REPLACE TRIGGER EMSD_ANIO_FABRICACION_VEHICULO
BEFORE INSERT 
ON EMSD_ANIO_FABRICACION_VEHICULO
FOR EACH ROW
BEGIN
    SELECT MAX(COD_ANIO_FABRICACION)+1 INTO :NEW.COD_ANIO_FABRICACION
    FROM EMSD_TIPOS_SERVICIO;
    IF(:NEW.COD_ANIO_FABRICACION IS NULL)THEN
        :NEW.COD_ANIO_FABRICACION := 1;
    END IF;
END;
