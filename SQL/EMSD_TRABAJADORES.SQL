CREATE TABLE EMSD_TRABAJADORES(
    COD_TRABAJADOR NUMBER,
    NOMBRE_TRABAJADOR VARCHAR2(30),
    APELLIDO1_TRABAJADOR VARCHAR2(30),
    APELLIDO2_TRABAJADOR VARCHAR2(30),
    COD_ROL NUMBER,
    COD_COMUNA NUMBER,
    PK_EMSD_TRABAJADORES PRIMARY KEY(COD_TRABAJADOR),
    FK_EMSD_TRABAJADORES_ROL_TRABAJADOR FOREIGN KEY(COD_ROL) REFERENCES EMSD_ROL_TRABAJADOR(COD_ROL),
    FK_EMSD_TRABAJADORES_COMUNA FOREIGN KEY(COD_COMUNA) REFERENCES EMSD_COMUNA(COD_COMUNA)
);

CREATE OR REPLACE TRIGGER EMSD_TRABAJADORES
BEFORE INSERT
ON EMSD_TRABAJADORES
FOR EACH ROW
BEGIN
	
END;

CREATE OR REPLACE PROCEDURE EMSD_TRABAJADORES_(


)
IS 
BEGIN
	LOCK TABLE EMSD_TRABAJADORES IN ROW EXCLUSIVE MODE;

	COMMIT;
	EXCEPTION
		WHEN NO_DATA_FOUND THEN
    		RAISE_APPLICATION_ERROR(+100, 'No existe este TRABAJADOR');
    	WHEN STORAGE_ERROR THEN
            RAISE_APPLICATION_ERROR(-6500, 'Fallo de memoria');
    ROLLBACK;
END;