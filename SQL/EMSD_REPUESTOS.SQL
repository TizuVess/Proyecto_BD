CREATE TABLE EMSD_REPUESTOS(
    COD_REPUESTO NUMBER,
    NOMBRE_REPUESTO VARCHAR2(80),
    COD_MARCA NUMBER,
    COD_CATEGORIA NUMBER,
    PRECIO_REPUESTO NUMBER,
    STOCK NUMBER,
    CONSTRAINT PK_EMSD_REPUESTOS PRIMARY KEY(COD_REPUESTO),
    CONSTRAINT FK_EMSD_REPUESTOS_MARCAS_REPUESTOS FOREIGN KEY(COD_MARCA) REFERENCES EMSD_MARCAS_REPUESTOS(COD_MARCA),
    CONSTRAINT FK_EMSD_REPUESTOS_CATEGORIAS_REPUESTOS FOREIGN KEY(COD_CATEGORIA) REFERENCES EMSD_CATEGORIAS_REPUESTOS(COD_CATEGORIA)
);

CREATE OR REPLACE TRIGGER EMSD_REPUESTOS
BEFORE INSERT
ON EMSD_REPUESTOS
FOR EACH ROW
BEGIN
	
END;

CREATE OR REPLACE PROCEDURE EMSD_REPUESTOS_(


)
IS 
BEGIN
	LOCK TABLE EMSD_REPUESTOS IN ROW EXCLUSIVE MODE;

	COMMIT;
	EXCEPTION
		WHEN NO_DATA_FOUND THEN
    		RAISE_APPLICATION_ERROR(+100, 'No existe');
    	WHEN STORAGE_ERROR THEN
            RAISE_APPLICATION_ERROR(-6500, 'Fallo de memoria');
    ROLLBACK;
END;
